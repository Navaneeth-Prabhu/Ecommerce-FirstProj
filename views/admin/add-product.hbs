

</fieldset>
</form>
<div class="row">
    <div class="col-md-6 m-auto">
        <div class="container mt-5 pl-5">
            <h2 class="text-center">ADD Product Data</h2>
                <form action="/admin/add-product/" method="post" enctype="multipart/form-data" >
                   <div class="form-group">
                    <label class="col-md-4 control-label" for="product_weight">TITLE</label>  
                    <div class="col-md-4">
                    <input id="product_title" name="product_title" placeholder="TITLE" class="form-control input-md" required="" type="text">
                        
                    </div>
                    </div>

                    <!-- Textarea -->
                    <div class="form-group">
                    <label class="col-md-4 control-label" for="product_description">PRODUCT DESCRIPTION</label>
                    <div class="col-md-4">                     
                        <textarea class="form-control" id="product_description" name="product_description"></textarea>
                    </div>
                    </div>


                    <!-- Text input-->
                    <div class="form-group">
                    <label class="col-md-4 control-label" for="stock_alert">STOCK</label>  
                    <div class="col-md-4">
                    <input id="stock" name="stock" placeholder="STOCK" class="form-control input-md" required="" type="number">
                        
                    </div>
                    </div>


                    <!-- Text input-->
                    <div class="form-group">
                    <label class="col-md-4 control-label" for="stock_alert">PRICE</label>  
                    <div class="col-md-4">
                    <input id="price" name="price" placeholder="PRICE" class="form-control input-md" required="" type="number">
                        
                    </div>
                    </div>


                    <!-- Category -->
                    <div>
                    <label class="col-md-4 control-label" for="stock_alert">CATEGORY</label>  
                    <select name="Category" class="form-group form-select" aria-label="Default select example">
                    <div class="col-md-4">
                    <label for="catogery">Category</label><br />
                   

                   {{!-- {{#each category}}
                    <option value="{{this.Category_name}}" name="Category">{{category.Category_name}}</option> --}}
                    <option id="Men" value="Men" >MEN</option>
                    <option id="Women" value="Women" >Women</option>
                    </div>
                    {{!-- {{/each}} --}}
                    </select>
                    </div>


                    <!--Sub-Category -->
                    <div>
                    <label class="col-md-4 control-label" for="stock_alert">SUB-CATEGORY</label>  
                    <select name="SubCategory" class="form-group form-select" aria-label="Default select example">
                    <div class="col-md-4">
                    <option selected>Select category</option>
                    <label for="catogery">Category</label><br />
                   {{#each category}}
                    <option  >{{this.Category_name}}</option>
                    {{/each}}
                    </div>
                    </select>
                    </div>

                        
                    

                

                    <!-- Text input-->
                    {{!-- <div class="form-group">
                    <label class="col-md-4 control-label" for="author">AUTHOR</label>  
                    <div class="col-md-4">
                    <input id="author" name="author" placeholder="AUTHOR" class="form-control input-md" required="" type="text">
                        
                    </div>
                    </div> --}}

    
                    <!-- File Button --> 
                    {{!-- <div class="form-group">
                    <label class="col-md-4 control-label" for="filebutton">main_image</label>
                    <div class="col-md-4">
                        <input id="filebutton" name="filebutton" class="input-file" type="file">
                    </div>
                    </div> --}}
                    <!-- File Button --> 
                    <!-- File Button --> 

                    
                    {{!-- <div class="form-group">
                 <img src="{{product._id}}" alt="" style="height: 100px;" id="imgView">
                    <label class="col-md-4 control-label" for="filebutton" >images</label>
                    <div class="col-md-4">
                        <input id="Image" name="Image" class="input-file" type="file" onchange="viewImage(event)">
                    </div>
                    </div> --}}

            <div class="form-group"></div>
  <label for="">image</label><br />
           <div id="crop">
<img
 
  id="imgView1"
  alt=""
  style="height: 100px; width: 120px"

  class="clr"
/>

<div class="vald-info" id="info"></div>
<h5 class="error_form text-danger" id="image1_error_message"></h5>
<div style="display: flex">
  <div
    id="image-box1"
    class="image-container clr"
    style="height: 300px; width: 20%"
  ></div>
  <button
    type="button"
    class="betaButton"
    id="crop-btn1"
    style="
      margin-top: 10px;
      display: none;
      width: 50%;
      margin: 20rem 0rem 0rem 0rem;
    "
  >
    Crop
  </button>
</div>
</div>



          <input type="file" name="Image" class="form-control" onchange="changeImg(event)" id="id_image1"/><br />
            </div>
                    {{!-- <!-- Button -->
                    <div class="form-group">
                    <label class="col-md-4 control-label" for="singlebutton">Single Button</label>
                    <div class="col-md-4">
                        <button id="singlebutton" name="singlebutton" class="btn btn-primary">Button</button>
                    </div>
                    </div>
                    <center> --}}
                            <button type="submit" class="btn btn-primary mx-5">Save Changes</button>
                            <button class="btn btn-primary mx-5"><a style="color: white;text-decoration:none" href="/admin">Cancel</a></button>
                    </center>
                    
                </form>
        </div>
    </div>
</div>
<script>
    function viewImage(event){
        document.getElementById('imgView').src=URL.createObjectURL(event.target.files[0])
    }

            function changeImg(event){
       
            document.getElementById('imgView1').src = URL.createObjectURL(event.target.files[0])
        }
         const imagebox1 = document.getElementById("image-box1");
  const crop_btn1 = document.getElementById("crop-btn1");
  const input1 = document.getElementById("id_image1");
 
  // When user uploads the image this event will get triggered
  input1.addEventListener("change", () => {
    // Getting image file object from the input variable
    const img_data1 = input1.files[0];
    // createObjectURL() static method creates a DOMString containing a URL representing the object given in the parameter.
    // The new object URL represents the specified File object or Blob object.
    const url1 = URL.createObjectURL(img_data1);
    // Creating a image tag inside imagebox which will hold the cropping view image(uploaded file) to it using the url created before.
    imagebox1.innerHTML = `<img src="${url1}" id="image1" style="width:100%;">`;
    // Storing that cropping view image in a variable
    const image1 = document.getElementById("image1");
    // Displaying the image box
    document.getElementById("image-box1").style.display = "block";
    // Displaying the Crop buttton
    document.getElementById("crop-btn1").style.display = "block";
    // Hiding the Post button
    document.getElementById("imgView1").style.display = "block";
    const cropper1 = new Cropper(image1, {
      autoCropArea: 1,
      viewMode: 1,
      scalable: false,
      zoomable: false,
      movable: false,
      minCropBoxWidth: 50,
      minCropBoxHeight: 50,
    });
    // When crop button is clicked this event will get triggered
    crop_btn1.addEventListener("click", () => {
      // This method coverts the selected cropped image on the cropper canvas into a blob object
      cropper1.getCroppedCanvas().toBlob((blob) => {
        // Gets the original image data
        let fileInputElement1 = document.getElementById("id_image1");
        // Make a new cropped image file using that blob object, image_data.name will make the new file name same as original image
        let file1 = new File([blob], img_data1.name, {
          type: "image/*",
          lastModified: new Date().getTime(),
        });
        // Create a new container
        let container1 = new DataTransfer();
        // Add the cropped image file to the container
        container1.items.add(file1);
        // Replace the original image file with the new cropped image file
        fileInputElement1.files = container1.files;
        document.getElementById("imgView1").src = URL.createObjectURL(
          fileInputElement1.files[0]
        );
        // Hide the cropper box
        document.getElementById("image-box1").style.display = "none";
        // Hide the crop button
        document.getElementById("crop-btn1").style.display = "none";
          
      });
    });
  });
</script>